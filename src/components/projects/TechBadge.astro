---
import { Icon } from 'astro-icon/components';
import { getTechIcon, getTechColor } from '@/utils/project-helpers';

export interface Props {
  tech: string;
  size?: 'sm' | 'md' | 'lg';
  showLabel?: boolean;
  class?: string;
}

const { tech, size = 'md', showLabel = true, class: className = '' } = Astro.props;

const sizeClasses = {
  sm: 'px-2 py-1 text-xs gap-1',
  md: 'px-3 py-2 text-sm gap-2',
  lg: 'px-4 py-3 text-base gap-3',
};

const iconSizes = {
  sm: 'h-3 w-3',
  md: 'h-4 w-4',
  lg: 'h-5 w-5',
};
---

<div
  class={`inline-flex items-center border rounded-lg transition-all group/tech project-box ${sizeClasses[size]} ${className}`}
>
  <Icon
    name={getTechIcon(tech)}
    class={`${iconSizes[size]} group-hover/tech:scale-110 transition-transform`}
    style={`color: ${getTechColor(tech)}`}
  />
  {showLabel && <span class="font-medium">{tech}</span>}
</div>

<style>
  .project-box {
    background: color-mix(in srgb, var(--projectSurface, #2d2d2d) 10%, transparent);
    border-color: color-mix(in srgb, var(--projectBorder, #e1dbcd) 20%, transparent);
    color: var(--projectForeground, #e1dbcd);
    transition: all 0.3s ease;
  }

  .project-box:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    border-color: color-mix(in srgb, var(--projectBorder, #e1dbcd) 40%, transparent);
  }
</style>

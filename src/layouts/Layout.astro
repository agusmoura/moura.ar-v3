---
import type { Preload } from '@/types/Preload';
import SpaceBackground from '@components/effects/SpaceBackground.astro';
import SEO from '@components/seo/SEO.astro';
import '@fontsource-variable/noto-serif-jp';
import '@fontsource/space-mono/400.css';
import '@fontsource/space-mono/700.css';
import '@styles/global.css';
import { ClientRouter } from 'astro:transitions';

export interface Props {
  title: string;
  description: string;
  preload?: Array<Preload>;
  canonical?: string;
  image?: string;
}

const {
  title = 'Moura.ar - Agustín Moura',
  description = 'Sitio web personal de Agustín Moura',
  image = '/og-image.jpg',
  canonical = new URL(Astro.url.pathname, Astro.site),
  preload = [],
} = Astro.props;

const canonicalURL = new URL(canonical, Astro.url);

const backgroundConfig = {
  starDensity: 0.0015,
  minTwinkleSpeed: 0.4,
  maxTwinkleSpeed: 1.5,
  minDelay: 2000,
  maxDelay: 6000,
  starColor: '#ecad22',
  trailColor: '#e1dbcd',
  starWidth: 15,
  starHeight: 2,
  backgroundColor: '#10100E ',
  gravityEnabled: true,
  gravityStrength: 80000,
  mouseGravityEnabled: true,
  mouseGravityStrength: 1.2,
  mouseGravityRadius: 0.12,
};
---

<!doctype html>
<html lang="es">
  <head>
    <SEO
      title={title}
      description={description}
      image={image}
      canonical={canonicalURL}
      preload={preload}
    />
    <ClientRouter />
  </head>
  <body class="min-h-svh bg-background text-foreground antialiased overflow-x-hidden">
    <SpaceBackground {...backgroundConfig} />
    <slot />
  </body>
</html>
